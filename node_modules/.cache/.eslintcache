[{"/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/index.js":"1","/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/App.jsx":"2","/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/components/Register.jsx":"3","/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/components/Home.jsx":"4","/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/components/Nav.jsx":"5","/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/components/Sidebar.jsx":"6","/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/components/Posts.jsx":"7"},{"size":488,"mtime":1699397062576,"results":"8","hashOfConfig":"9"},{"size":1111,"mtime":1699397062573,"results":"10","hashOfConfig":"9"},{"size":7391,"mtime":1699397062575,"results":"11","hashOfConfig":"9"},{"size":4418,"mtime":1699409027511,"results":"12","hashOfConfig":"9"},{"size":9380,"mtime":1699407792964,"results":"13","hashOfConfig":"9"},{"size":11609,"mtime":1699406223337,"results":"14","hashOfConfig":"9"},{"size":5239,"mtime":1699410969558,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},"4zm8qb",{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"19"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/index.js",[],[],["42"],"/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/App.jsx",["43","44"],[],"import { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport React, { useState, useEffect } from \"react\";\n// import BarLoader from \"react-spinners/BarLoader\";\n\nimport Register from \"./components/Register\";\nimport Sidebar from \"./components/Sidebar\";\nimport Navbar from \"./components/Nav\";\nimport Home from \"./components/Home\";\nimport \"./index.css\";\n\nexport default function App() {\n  const [loading, setLoading] = useState(true);\n  const [registerLoading, setRegisterLoading] = useState(true);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setLoading(false);\n    }, 5000);\n  }, []);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setRegisterLoading(false);\n    }, 5000);\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route\n          path=\"/\"\n          element={\n            <>\n              <Sidebar />\n              <Navbar />\n              <Home />\n            </>\n          }\n        />\n        <Route\n          path=\"login\"\n          element={\n            <>\n              <Register />\n            </>\n          }\n        />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n","/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/components/Register.jsx",[],[],"/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/components/Home.jsx",["45"],[],"import React, { useRef, useEffect, useState } from \"react\";\nimport Posts from \"./Posts\";\nimport SendIcon from \"../assets/sendIcon.svg\";\nimport { LuImagePlus } from \"react-icons/lu\";\n\nconst Home = () => {\n  const [isFocused, setIsFocused] = useState(false);\n  const [showDescription, setShowDescription] = useState(false);\n  const [formData, setFormData] = useState({\n    new_title: \"\",\n    new_description: \"\",\n  });\n  const formRef = useRef();\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (formRef.current && !formRef.current.contains(event.target)) {\n        setShowDescription(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [formRef]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleNewPost = async (event) => {\n    event.preventDefault();\n\n    const dataToSend = {\n      title: formData.new_title,\n      description: formData.new_description,\n    };\n\n    try {\n      console.log(\"dataToSend: \");\n      console.log(dataToSend);\n      const response = await fetch(\"/posts-upload\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(dataToSend),\n      });\n\n      if (response.ok) {\n        window.location.href = \"/\";\n      } else {\n        // handle error\n      }\n    } catch (error) {\n      window.location.href = \"/\";\n      console.error(\"Error:\", error);\n    }\n  };\n  // TODO: Update Posts to load images look at the way profile images are uploaded should be similar\n\n  return (\n    <div className=\"home_bg min-h-screen h-full ml-20\">\n      <div className=\"flex justify-center items-center text-3xl text-white pt-2\">\n        <a\n          href=\"/\"\n          className=\"px-4 text-base hover:underline underline-offset-8\"\n        >\n          Home\n        </a>\n        |\n        <a\n          href=\"/\"\n          className=\"px-4 text-base hover:underline underline-offset-8\"\n        >\n          Following\n        </a>\n      </div>\n\n      <div\n        className=\"max-w-5xl mx-auto p-4 my-8 bg-primaryDark shadow-md rounded-md text-sand\"\n        ref={formRef}\n      >\n        <h1 className=\"text-base font-semibold mb-2 text-center\">New Post</h1>\n        <form onSubmit={handleNewPost}>\n          <input\n            name=\"new_title\"\n            className=\"bg-transparent border-none appearance-none leading-tight focus:outline-none w-full\"\n            placeholder=\"What's On Your Mind?\"\n            value={formData.new_title}\n            onFocus={() => {\n              setIsFocused(true);\n              setShowDescription(true);\n            }}\n            onBlur={() => setIsFocused(false)}\n            onChange={handleInputChange}\n          />\n          <hr />\n          {showDescription && (\n            <div className=\"mt-2\">\n              <textarea\n                name=\"new_description\"\n                className=\"bg-transparent border-none appearance-none leading-tight focus:outline-none w-full h-20 resize-none overflow-auto\"\n                placeholder=\"Description\"\n                value={formData.new_description}\n                onFocus={() => {\n                  setIsFocused(true);\n                  setShowDescription(true);\n                }}\n                onChange={handleInputChange}\n              />\n              <hr className=\"p-2\" />\n\n              <div className=\"flex justify-end items-center\">\n                <label className=\"cursor-pointer\">\n                  <LuImagePlus \n                  className=\"w-5 h-5 inline-block text-white mr-2 hover:scale-150\"\n                  />\n                  <input\n                    type=\"file\"\n                    className=\"hidden\"\n                    // onChange={handleFileChange}\n                    accept=\"image/*\"\n                  />\n                </label>\n                <button\n                  type=\"submit\"\n                  className=\"bg-none hover:scale-150 text-white font-semibold mx-4 rounded-md justify-between\"\n                >\n                  <img src={SendIcon} alt=\"send\" width={20} height={20} />\n                </button>\n\n              </div>\n            </div>\n          )}\n        </form>\n      </div>\n\n      <Posts />\n    </div>\n  );\n};\n\nexport default Home;\n","/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/components/Nav.jsx",["46"],[],"import React, { useState, useEffect, useRef } from \"react\";\nimport Logo from \"../assets/FILO_Logo.png\";\nimport DefaultProfileImage from \"../assets/mainProfile.svg\"; // The default profile image\n\nconst Nav = () => {\n  const [user, setUser] = useState(null);\n  const [isProfileMenuOpen, setProfileMenuOpen] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const profileMenuRef = useRef(null);\n  const modalRef = useRef(null);\n\n  useEffect(() => {\n    fetch(\"/get-user\")\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Network response was not ok \" + response.statusText);\n        }\n        return response.json();\n      })\n      .then((userData) => {\n        console.log(userData.profile_path);\n        setUser(userData);\n      })\n      .catch((error) => {\n        console.error(\n          \"There has been a problem with your fetch operation:\",\n          error\n        );\n      });\n  }, []);\n\n  // useEffect(() => {\n  //   document.addEventListener(\"click\", handleDocumentClick);\n  //   return () => {\n  //     document.removeEventListener(\"click\", handleDocumentClick);\n  //   };\n  // }, []);\n\n  // const handleDocumentClick = (e) => {\n  //   // Check if the click occurred outside the profile menu\n  //   if (profileMenuRef.current && !profileMenuRef.current.contains(e.target)) {\n  //     setProfileMenuOpen(false);\n  //   }\n  // };\n\n  const handleMenu = () => {\n    setProfileMenuOpen(false);\n  };\n\n  useEffect(() => {\n    const handleDocumentClick = (e) => {\n      // Close profile menu if click is outside\n      if (\n        profileMenuRef.current &&\n        !profileMenuRef.current.contains(e.target)\n      ) {\n        setProfileMenuOpen(false);\n      }\n      // Close modal if click is outside\n      if (\n        isModalOpen &&\n        modalRef.current &&\n        !modalRef.current.contains(e.target)\n      ) {\n        setIsModalOpen(false);\n      }\n    };\n\n    // Add event listener when the component is mounted\n    document.addEventListener(\"mousedown\", handleDocumentClick);\n\n    // Cleanup the event listener when the component is unmounted\n    return () => {\n      document.removeEventListener(\"mousedown\", handleDocumentClick);\n    };\n  }, [isModalOpen]);\n\n  const handleProfileIconClick = () => {\n    setProfileMenuOpen(!isProfileMenuOpen);\n  };\n\n  const handleProfileClick = () => {\n    setIsModalOpen(true);\n    setProfileMenuOpen(false); // Close dropdown menu\n  };\n\n  return (\n    // TODO: Implement search bar\n    <header>\n      <nav className=\"nav_bg flex justify-between items-center w-full z-10 py-4 px-10 shadow-lg\">\n        <a href=\"/\">\n          <img src={Logo} alt=\"logo\" width={35} height={25} />\n        </a>\n        <div className=\"flex gap-6 px-4\">\n          <h1 className=\"text-sand text-2xl font-bold\">\n            {user ? user.username : \"Loading...\"}\n          </h1>\n          <div ref={profileMenuRef}>\n            {user && user.profile_image && (\n              <img\n                src={require(`../assets/${user.profile_image}`)}\n                alt=\"profile\"\n                width={35}\n                height={35}\n                onClick={handleProfileIconClick}\n                className=\"cursor-pointer rounded-full\"\n              />\n            )}\n            {isProfileMenuOpen && (\n              <div className=\"absolute top-16 right-6 bg-primaryBlue text-sand shadow-md p-2 border-2 border-sand rounded-md\">\n                <ul className=\"text-center\">\n                  <li\n                    className=\"hover:scale-110 hover:underline cursor-pointer\"\n                    onClick={handleProfileClick}\n                  >\n                    Profile\n                  </li>\n                  <li\n                    className=\"hover:scale-110 hover:underline cursor-pointer\"\n                    onClick={handleMenu}\n                  >\n                    Settings\n                  </li>\n                  <li\n                    className=\"hover:scale-110 hover:underline cursor-pointer\"\n                    onClick={handleMenu}\n                  >\n                    Logout\n                  </li>\n                </ul>\n              </div>\n            )}\n          </div>\n        </div>\n      </nav>\n      {isModalOpen && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-center \">\n          <div\n            ref={modalRef}\n            className=\"nav_bg p-4 rounded text-white \"\n            style={{ minHeight: \"40vh\", minWidth: \"80vh\" }}\n          >\n            <h2 className=\"text-amber-500 pb-10 text-center text-3xl\t\">\n              User Profile\n            </h2>\n            <div className=\"flex flex-wrap\">\n              <div className=\"flex flex-col items-center w-1/2 border-r\">\n                {/* Image Container */}\n                <div className=\"w-full flex justify-center p-10\">\n                  <div className=\"relative\">\n                    {user && user.profile_image && (\n                      <img\n                        src={require(`../assets/${user.profile_image}`)}\n                        alt=\"profile\"\n                        className=\"w-52 h-auto cursor-pointer rounded-full\"\n                      />\n                    )}\n                    {/* Upload Icon Overlay */}\n                    <input\n                      type=\"file\"\n                      id=\"profile-upload\"\n                      className=\"hidden\"\n                      // onChange={} // A function to handle the file upload\n                    />\n                    {/* Upload Icon Overlay */}\n                    <label\n                      htmlFor=\"profile-upload\"\n                      className=\"absolute bottom-2 right-3 bg-blue-300 text-white rounded-full \n                            flex items-center justify-center w-10 h-10 cursor-pointer\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        stroke=\"currentColor\"\n                        className=\"w-6 h-6\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth=\"2\"\n                          d=\"M12 4v16m8-8H4\"\n                        />\n                      </svg>\n                    </label>\n                  </div>\n                </div>\n\n                {/* Information Container */}\n                <div className=\"w-full flex justify-between px-2 text-2xl pb-10\">\n                  <div className=\"flex-1 flex justify-center items-center border-r\">\n                    <div className=\"text-center\">\n                      <div className=\"font-semibold\">Following</div>\n                      <div>\n                        {user && Array.isArray(user.following)\n                          ? user.following.length\n                          : \"Loading...\"}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Followers Column */}\n                  <div className=\"flex-1 flex justify-center items-center\">\n                    <div className=\"text-center\">\n                      <div className=\"font-semibold\">Followers</div>\n                      <div>\n                        {user && Array.isArray(user.followers)\n                          ? user.followers.length\n                          : \"Loading...\"}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"w-1/2 pl-2 \">\n                <div className=\"p-10\">\n                  <div className=\"user-info-field flex flex-col mb-4\">\n                    <label className=\"mb-1 text-sm font-semibold\">Email</label>\n                    <input\n                      className=\"border-0 border-b-2 border-gray-300   text-gray-600 bg-transparent focus:outline-none focus:ring-0\"\n                      type=\"text\"\n                      value={user ? user.email : \"Loading...\"}\n                      readOnly\n                    />\n                  </div>\n\n                  <div className=\"user-info-field flex flex-col mb-4\">\n                    <label className=\"mb-1 text-sm font-semibold\">\n                      Username\n                    </label>\n                    <input\n                      className=\"border-0 border-b-2 border-gray-300  text-gray-600 bg-transparent focus:outline-none focus:ring-0\"\n                      type=\"text\"\n                      value={user ? user.username : \"Loading...\"}\n                      readOnly\n                    />\n                  </div>\n\n                  <div className=\"user-info-field flex flex-col mb-4\">\n                    <label className=\"mb-1 text-sm font-semibold\">\n                      Password\n                    </label>\n                    <input\n                      className=\"border-0 border-b-2 border-gray-300 text-gray-600 bg-transparent focus:outline-none focus:ring-0\"\n                      type=\"password\"\n                      value={\"****************\"}\n                      readOnly\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </header>\n  );\n};\n\nexport default Nav;\n","/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/components/Sidebar.jsx",[],[],["47"],"/Users/jimmywu/Downloads/Classes/FALL2023/CSE312/Projects/FILO/src/components/Posts.jsx",["48","49","50","51"],[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":12,"column":10,"nodeType":"56","messageId":"57","endLine":12,"endColumn":17},{"ruleId":"54","severity":1,"message":"58","line":13,"column":10,"nodeType":"56","messageId":"57","endLine":13,"endColumn":25},{"ruleId":"54","severity":1,"message":"59","line":7,"column":10,"nodeType":"56","messageId":"57","endLine":7,"endColumn":19},{"ruleId":"54","severity":1,"message":"60","line":3,"column":8,"nodeType":"56","messageId":"57","endLine":3,"endColumn":27},{"ruleId":"52","replacedBy":"61"},{"ruleId":"54","severity":1,"message":"62","line":2,"column":8,"nodeType":"56","messageId":"57","endLine":2,"endColumn":15},{"ruleId":"54","severity":1,"message":"63","line":33,"column":10,"nodeType":"56","messageId":"57","endLine":33,"endColumn":17},{"ruleId":"54","severity":1,"message":"64","line":37,"column":11,"nodeType":"56","messageId":"57","endLine":37,"endColumn":22},{"ruleId":"54","severity":1,"message":"65","line":38,"column":9,"nodeType":"56","messageId":"57","endLine":38,"endColumn":21},"no-new-object",["66"],"no-unused-vars","'loading' is assigned a value but never used.","Identifier","unusedVar","'registerLoading' is assigned a value but never used.","'isFocused' is assigned a value but never used.","'DefaultProfileImage' is defined but never used.",["66"],"'Profile' is defined but never used.","'clicked' is assigned a value but never used.","'like_counts' is assigned a value but never used.","'handleChange' is assigned a value but never used.","no-object-constructor"]